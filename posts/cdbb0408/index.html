<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8">
<title>面试常见手写代码 - 羽叶丶</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />



    <meta name="description" content="数组去重（一维)数组去重最原始的方法就是使用双层循环，分别循环原始数组和新建数组；或者我们可以使用indexOf来简化内层的循环；或者可以将原始数组排序完再来去重，这样会减少一个循环，只需要比较前后两个数即可；当然我们可以使用ES5,ES6的方法来简化去重的写法，比如我们可以使用filter来简化内层循环，或者使用Set、Map、扩展运算符这些用起来更简单的方法，但是效率上应该不会比原始方法好。二">
<meta property="og:type" content="article">
<meta property="og:title" content="面试常见手写代码">
<meta property="og:url" content="yuye.js.org/posts/cdbb0408/index.html">
<meta property="og:site_name" content="羽叶丶">
<meta property="og:description" content="数组去重（一维)数组去重最原始的方法就是使用双层循环，分别循环原始数组和新建数组；或者我们可以使用indexOf来简化内层的循环；或者可以将原始数组排序完再来去重，这样会减少一个循环，只需要比较前后两个数即可；当然我们可以使用ES5,ES6的方法来简化去重的写法，比如我们可以使用filter来简化内层循环，或者使用Set、Map、扩展运算符这些用起来更简单的方法，但是效率上应该不会比原始方法好。二">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="/">
<meta property="article:published_time" content="2019-05-19T02:41:34.000Z">
<meta property="article:modified_time" content="2020-08-04T06:17:14.392Z">
<meta property="article:author" content="Yu Ye">
<meta property="article:tag" content="js">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/">
<meta name="twitter:creator" content="@yuyehack">
<meta name="twitter:site" content="yuyehack">
<link rel="publisher" href="yuyehack">
<meta property="fb:admins" content="yuyehack">
<meta property="fb:app_id" content="yuyehack">







<link id="dynamic-favicon" rel="icon" href="/images/favicon.ico">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.9.0/css/all.min.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/rainbow.css">


    
    
    
    <!-- <style>body>.footer,body>.navbar,body>.section{opacity:0}</style> -->
    <style>body>.footer,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?ab64af1b57db176e2599613d7c393f32";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>

    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    
        <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css?v=1596521852625">
<meta name="generator" content="Hexo 5.0.0"></head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="面试常见手写代码" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">首页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/music">音乐</a>
                
                <a class="navbar-item"
                href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main">
                    
                    <div class="card">
        
    <div class="card-content article ">
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                面试常见手写代码
            
        </h1>
        
            <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
                <div class="level-left">
                    <time class="level-item has-text-grey" datetime="2019-05-19T02:41:34.000Z">2019-05-19</time>
                    
                    <div class="level-item">
                    <a class="has-link-grey -link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>
                    </div>
                    
                    
                    <span class="level-item has-text-grey">
                        
                        
                        23 分钟 读完 (大约 3446 个字)
                    </span>
                    
                    
                    <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                        <i class="far fa-eye"></i>
                        <span id="busuanzi_value_page_pv">0</span>次访问
                    </span>
                    
                </div>
            </div>
            
        <div class="content">
                
            
            
            



            
                <html><head></head><body><h2 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h2><p>（一维)数组去重最原始的方法就是使用双层循环，分别循环原始数组和新建数组；或者我们可以使用<code>indexOf</code>来简化内层的循环；或者可以将原始数组排序完再来去重，这样会减少一个循环，只需要比较前后两个数即可；当然我们可以使用<code>ES5</code>,<code>ES6</code>的方法来简化去重的写法，比如我们可以使用<code>filter</code>来简化内层循环，或者使用<code>Set</code>、<code>Map</code>、扩展运算符这些用起来更简单的方法，但是效率上应该不会比原始方法好。二维数组的去重可以在上面方法的基础上再判断元素是不是数组，如果是的话，就进行递归处理。</p>
<h3 id="双层循环"><a href="#双层循环" class="headerlink" title="双层循环"></a>双层循环</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"1"</span>, <span class="hljs-string">"1"</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> res = [];</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, arrayLen = array.length; i < arrayLen; i++) {</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>, resLen = res.length; j < resLen; j++) {</span><br><span class="line">      <span class="hljs-keyword">if</span> (array[i] === res[j]) {</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">if</span> (j === resLen) {</span><br><span class="line">      res.push(array[i]);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(unique(array)); <span class="hljs-comment">// [1, "1"]</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="利用-indexOf"><a href="#利用-indexOf" class="headerlink" title="利用 indexOf"></a>利用 indexOf</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"1"</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> res = [];</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = array.length; i < len; i++) {</span><br><span class="line">    <span class="hljs-keyword">var</span> current = array[i];</span><br><span class="line">    <span class="hljs-keyword">if</span> (res.indexOf(current) === <span class="hljs-number">-1</span>) {</span><br><span class="line">      res.push(current);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(unique(array));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="排序后去重"><a href="#排序后去重" class="headerlink" title="排序后去重"></a>排序后去重</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"1"</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> res = [];</span><br><span class="line">  <span class="hljs-keyword">var</span> sortedArray = array.concat().sort();</span><br><span class="line">  <span class="hljs-keyword">var</span> seen;</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = sortedArray.length; i < len; i++) {</span><br><span class="line">    <span class="hljs-comment">// 如果是第一个元素或者相邻的元素不相同</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (!i || seen !== sortedArray[i]) {</span><br><span class="line">      res.push(sortedArray[i]);</span><br><span class="line">    }</span><br><span class="line">    seen = sortedArray[i];</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(unique(array));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p><code>filter</code>可以用来简化外层循环</p>
<h3 id="使用-indexOf："><a href="#使用-indexOf：" class="headerlink" title="使用 indexOf："></a>使用 indexOf：</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"1"</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> res = array.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, array</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> array.indexOf(item) === index;</span><br><span class="line">  });</span><br><span class="line">  <span class="hljs-keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(unique(array));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="排序去重："><a href="#排序去重：" class="headerlink" title="排序去重："></a>排序去重：</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"1"</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> array</span><br><span class="line">    .concat()</span><br><span class="line">    .sort()</span><br><span class="line">    .filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, array</span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> !index || item !== array[index - <span class="hljs-number">1</span>];</span><br><span class="line">    });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(unique(array));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ES6-方法"><a href="#ES6-方法" class="headerlink" title="ES6 方法"></a>ES6 方法</h3><h4 id="Set："><a href="#Set：" class="headerlink" title="Set："></a>Set：</h4><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"1"</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.from(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(array));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(unique(array)); <span class="hljs-comment">// [1, 2, "1"]</span></span><br></pre></td></tr></tbody></table></figure>

<p>再简化下</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> [...new <span class="hljs-built_in">Set</span>(array)];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//或者</span></span><br><span class="line"><span class="hljs-keyword">var</span> unique = <span class="hljs-function"><span class="hljs-params">a</span> =></span> [...new <span class="hljs-built_in">Set</span>(a)];</span><br></pre></td></tr></tbody></table></figure>

<h4 id="Map："><a href="#Map：" class="headerlink" title="Map："></a>Map：</h4><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unique</span>(<span class="hljs-params">arr</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">const</span> seen = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();</span><br><span class="line">  <span class="hljs-keyword">return</span> arr.filter(<span class="hljs-function"><span class="hljs-params">a</span> =></span> !seen.has(a) && seen.set(a, <span class="hljs-number">1</span>));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h2><p>类型判断需要注意以下几点</p>
<ul>
<li><p><code>typeof</code>对六个基本数据类型<code>Undefined</code>、<code>Null</code>、<code>Boolean</code>、<code>Number</code>、<code>String</code>、<code>Object</code>（大写）返回的结果是</p>
<p><code>undefined</code>、<code>object</code>、<code>boolean</code>、<code>number</code>、<code>string</code>、<code>object</code>（小写），可以看到<code>Null</code>和<code>Object</code> 类型都返回了 <code>object</code> 字符串；<code>typeof</code>却能检测出函数类型；<strong>综上，<code>typeof</code>能检测出六种类型，但是不能检测出<code>null</code>类型和<code>Object</code>下细分的类型，如<code>Array</code>，<code>Function</code>，<code>Date</code>，<code>RegExp</code>,<code>Error</code>等</strong>。</p>
</li>
<li><p><code>Object.prototype.toString</code>的作用非常强大，它能检测出基本数据类型以及<code>Object</code>下的细分类型，甚至像<br><code>Math</code>,<code>JSON</code>,<code>arguments</code>它都能检测出它们的具体类型，它返回结果形式例如<code>[object Number]</code>(注意最后的数据类型是大写).<strong>所以，<code>Object.prototype.toString</code>基本上能检测出所有的类型了，只不过有时需要考虑到兼容性低版本浏览器的问题。</strong></p>
</li>
</ul>
<h3 id="通用-API"><a href="#通用-API" class="headerlink" title="通用 API"></a>通用 API</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 该类型判断函数可以判断六种基本数据类型以及Boolean Number String Function Array Date RegExp Object Error，</span></span><br><span class="line"><span class="hljs-comment">// 其他类型因为遇到类型判断的情况较少所以都会返回object,不在进行详细的判断</span></span><br><span class="line"><span class="hljs-comment">//  比如ES6新增的Symbol，Map，Set等类型</span></span><br><span class="line"><span class="hljs-keyword">var</span> classtype = {};</span><br><span class="line"></span><br><span class="line"><span class="hljs-string">"Boolean Number String Function Array Date RegExp Object Error"</span></span><br><span class="line">  .split(<span class="hljs-string">" "</span>)</span><br><span class="line">  .map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    classtype[<span class="hljs-string">"[object "</span> + item + <span class="hljs-string">"]"</span>] = item.toLowerCase();</span><br><span class="line">  });</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">type</span>(<span class="hljs-params">obj</span>) </span>{</span><br><span class="line">  <span class="hljs-comment">// 解决IE6中null和undefined会被Object.prototype.toString识别成[object Object]</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span> obj + <span class="hljs-string">""</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">//如果是typeof后类型为object下的细分类型(Array,Function,Date,RegExp,Error)或者是Object类型，则要利用Object.prototype.toString</span></span><br><span class="line">  <span class="hljs-comment">//由于ES6新增的Symbol，Map，Set等类型不在classtype列表中，所以使用type函数，返回的结果会是object</span></span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">"object"</span> || <span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">"function"</span></span><br><span class="line">    ? classtype[<span class="hljs-built_in">Object</span>.prototype.toString.call(obj)] || <span class="hljs-string">"object"</span></span><br><span class="line">    : <span class="hljs-keyword">typeof</span> obj;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="判断空对象"><a href="#判断空对象" class="headerlink" title="判断空对象"></a>判断空对象</h3><p>判断是否有属性，<code>for</code>循环一旦执行，就说明有属性，此时返回<code>false</code></p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isEmptyObject</span>(<span class="hljs-params">obj</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> name;</span><br><span class="line">  <span class="hljs-keyword">for</span> (name <span class="hljs-keyword">in</span> obj) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isEmptyObject({})); <span class="hljs-comment">// true</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isEmptyObject([])); <span class="hljs-comment">// true</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isEmptyObject(<span class="hljs-literal">null</span>)); <span class="hljs-comment">// true</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isEmptyObject(<span class="hljs-literal">undefined</span>)); <span class="hljs-comment">// true</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isEmptyObject(<span class="hljs-number">1</span>)); <span class="hljs-comment">// true</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isEmptyObject(<span class="hljs-string">""</span>)); <span class="hljs-comment">// true</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isEmptyObject(<span class="hljs-literal">true</span>)); <span class="hljs-comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

<p>我们可以看出<code>isEmptyObject</code>实际上判断的并不仅仅是空对象。但是既然<code>jQuery</code>是这样写，可能是因为考虑到实际开发中 <code>isEmptyObject</code>用来判断 {} 和 {a: 1} 是足够的吧。如果真的是只判断 {}，完全可以结合上篇写的 <code>type</code>函数筛选掉不适合的情况。</p>
<h3 id="判断-Window-对象"><a href="#判断-Window-对象" class="headerlink" title="判断 Window 对象"></a>判断 Window 对象</h3><p><code>Window</code>对象有一个<code>window</code>属性指向自身，可以利用这个特性来判断是否是<code>Window</code>对象</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isWindow</span>(<span class="hljs-params">obj</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> obj != <span class="hljs-literal">null</span> && obj === obj.window;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="判断数组"><a href="#判断数组" class="headerlink" title="判断数组"></a>判断数组</h3><p><code>isArray</code>是数组类型内置的数据类型判断函数，但是会有兼容性问题，一个<code>polyfill</code>如下</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">isArray =</span><br><span class="line">  <span class="hljs-built_in">Array</span>.isArray ||</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">array</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(array) === <span class="hljs-string">"[object Array]"</span>;</span><br><span class="line">  };</span><br></pre></td></tr></tbody></table></figure>

<h3 id="判断类数组"><a href="#判断类数组" class="headerlink" title="判断类数组"></a>判断类数组</h3><p><code>jquery</code>实现的<code>isArrayLike</code>,数组和类数组都会返回<code>true</code>。所如果<code>isArrayLike</code>返回<code>true</code>，至少要满足三个条件之一：</p>
<ol>
<li><p>是数组</p>
</li>
<li><p>长度为 0<br>比如下面情况,如果我们去掉 length === 0 这个判断，就会打印 <code>false</code>，然而我们都知道 <code>arguments</code> 是一个类数组对象，这里是应该返回 <code>true</code> 的</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(isArrayLike(<span class="hljs-built_in">arguments</span>));</span><br><span class="line">}</span><br><span class="line">a();</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>lengths</code> 属性是大于 0 的数字类型，并且<code>obj[length - 1]</code>必须存在(考虑到 arr = [,,3]的情况)</p>
</li>
</ol>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArrayLike</span>(<span class="hljs-params">obj</span>) </span>{</span><br><span class="line">  <span class="hljs-comment">// obj 必须有 length属性</span></span><br><span class="line">  <span class="hljs-keyword">var</span> length = !!obj && <span class="hljs-string">"length"</span> <span class="hljs-keyword">in</span> obj && obj.length;</span><br><span class="line">  <span class="hljs-keyword">var</span> typeRes = type(obj);</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// 排除掉函数和 Window 对象</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (typeRes === <span class="hljs-string">"function"</span> || isWindow(obj)) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> (</span><br><span class="line">    typeRes === <span class="hljs-string">"array"</span> ||</span><br><span class="line">    length === <span class="hljs-number">0</span> ||</span><br><span class="line">    (<span class="hljs-keyword">typeof</span> length === <span class="hljs-string">"number"</span> && length > <span class="hljs-number">0</span> && length - <span class="hljs-number">1</span> <span class="hljs-keyword">in</span> obj)</span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="判断-NaN"><a href="#判断-NaN" class="headerlink" title="判断 NaN"></a>判断 NaN</h3><p>判断一个数是不是<code>NaN</code>不能单纯地使用 === 这样来判断, 因为<code>NaN</code>不与任何数相等, 包括自身,注意在<code>ES6</code>的<code>isNaN</code>中只有值为数字类型使用<code>NaN</code>才会返回<code>true</code></p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">isNaN</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)</span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> isNumber(value) && <span class="hljs-built_in">isNaN</span>(value);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="判断-DOM-元素"><a href="#判断-DOM-元素" class="headerlink" title="判断 DOM 元素"></a>判断 DOM 元素</h3><p>利用<code>DOM</code>对象特有的<code>nodeType</code>属性（</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">isElement: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>)</span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> !!(obj && obj.nodeType === <span class="hljs-number">1</span>);</span><br><span class="line">    <span class="hljs-comment">// 两次感叹号将值转化为布尔值</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="判断-arguments-对象"><a href="#判断-arguments-对象" class="headerlink" title="判断 arguments 对象"></a>判断 arguments 对象</h3><p>低版本的浏览器中<code>argument</code>对象通过<code>Object.prototype.toString</code>判断后返回的是<code>[object Object]</code>,所以需要兼容</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">isArguments: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>)</span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(obj) === <span class="hljs-string">'[object Arguments]'</span> || (obj != <span class="hljs-literal">null</span> && <span class="hljs-built_in">Object</span>.hasOwnProperty.call(obj, <span class="hljs-string">'callee'</span>));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h2><p>如果是数组，实现浅拷贝，比可以<code>slice</code>，<code>concat</code>返回一个新数组的特性来实现；实现深拷贝，可以利用<code>JSON.parse</code>和<code>JSON.stringify</code>来实现，但是有一个问题，不能拷贝函数（此时拷贝后返回的数组为<code>null</code>）。上面的方法都属于技巧，下面考虑怎么实现一个对象或者数组的深浅拷贝</p>
<h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><p>思路很简单，遍历对象，然后把属性和属性值都放在一个新的对象就 OK 了</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> shallowCopy = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>{</span><br><span class="line">  <span class="hljs-comment">// 只拷贝对象</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line">  <span class="hljs-comment">// 根据obj的类型判断是新建一个数组还是对象</span></span><br><span class="line">  <span class="hljs-keyword">var</span> newObj = obj <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> ? [] : {};</span><br><span class="line">  <span class="hljs-comment">// 遍历obj，并且判断是obj的属性才拷贝</span></span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> obj) {</span><br><span class="line">    <span class="hljs-keyword">if</span> (obj.hasOwnProperty(key)) {</span><br><span class="line">      newObj[key] = obj[key];</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> newObj;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><p>思路也很简单，就是在拷贝的时候判断一下属性值的类型，如果是对象，就递归调用深浅拷贝函数就 ok 了</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> deepCopy = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line">  <span class="hljs-keyword">var</span> newObj = obj <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> ? [] : {};</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> obj) {</span><br><span class="line">    <span class="hljs-keyword">if</span> (obj.hasOwnProperty(key)) {</span><br><span class="line">      newObj[key] =</span><br><span class="line">        <span class="hljs-keyword">typeof</span> obj[key] === <span class="hljs-string">"object"</span> ? deepCopy(obj[key]) : obj[key];</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> newObj;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<h2 id="扁平化"><a href="#扁平化" class="headerlink" title="扁平化"></a>扁平化</h2><h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>循环数组元素，如果还是一个数组，就递归调用该方法</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 方法 1</span></span><br><span class="line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flatten</span>(<span class="hljs-params">arr</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> result = [];</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = arr.length; i < len; i++) {</span><br><span class="line">    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(arr[i])) {</span><br><span class="line">      result = result.concat(flatten(arr[i]));</span><br><span class="line">    } <span class="hljs-keyword">else</span> {</span><br><span class="line">      result.push(arr[i]);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(flatten(arr));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><p>如果数组的元素都是数字，可以使用该方法</p>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 方法2</span></span><br><span class="line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flatten</span>(<span class="hljs-params">arr</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> arr</span><br><span class="line">    .toString()</span><br><span class="line">    .split(<span class="hljs-string">","</span>)</span><br><span class="line">    .map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> +item; <span class="hljs-comment">// +会使字符串发生类型转换</span></span><br><span class="line">    });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(flatten(arr));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 方法3</span></span><br><span class="line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flatten</span>(<span class="hljs-params">arr</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> arr.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">prev, next</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> prev.concat(<span class="hljs-built_in">Array</span>.isArray(next) ? flatten(next) : next);</span><br><span class="line">  }, []);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(flatten(arr));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="…"><a href="#…" class="headerlink" title="…"></a>…</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 扁平化一维数组</span></span><br><span class="line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]];</span><br><span class="line"><span class="hljs-built_in">console</span>.log([].concat(...arr)); <span class="hljs-comment">// [1, 2, [3, 4]]</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 可以扁平化多维数组</span></span><br><span class="line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flatten</span>(<span class="hljs-params">arr</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">while</span> (arr.some(<span class="hljs-function"><span class="hljs-params">item</span> =></span> <span class="hljs-built_in">Array</span>.isArray(item))) {</span><br><span class="line">    arr = [].concat(...arr);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> arr;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(flatten(arr));</span><br></pre></td></tr></tbody></table></figure>

<h2 id="柯里化"><a href="#柯里化" class="headerlink" title="柯里化"></a>柯里化</h2><h3 id="通用版"><a href="#通用版" class="headerlink" title="通用版"></a>通用版</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">curry</span>(<span class="hljs-params">fn, args</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> length = fn.length;</span><br><span class="line">  <span class="hljs-keyword">var</span> args = args || [];</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">    newArgs = args.concat(<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>));</span><br><span class="line">    <span class="hljs-keyword">if</span> (newArgs.length < length) {</span><br><span class="line">      <span class="hljs-keyword">return</span> curry.call(<span class="hljs-built_in">this</span>, fn, newArgs);</span><br><span class="line">    } <span class="hljs-keyword">else</span> {</span><br><span class="line">      <span class="hljs-keyword">return</span> fn.apply(<span class="hljs-built_in">this</span>, newArgs);</span><br><span class="line">    }</span><br><span class="line">  };</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiFn</span>(<span class="hljs-params">a, b, c</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> a * b * c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">var</span> multi = curry(multiFn);</span><br><span class="line"></span><br><span class="line">multi(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)(<span class="hljs-number">4</span>);</span><br><span class="line">multi(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);</span><br><span class="line">multi(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>);</span><br><span class="line">multi(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)(<span class="hljs-number">4</span>);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ES6-版"><a href="#ES6-版" class="headerlink" title="ES6 版"></a>ES6 版</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> curry = <span class="hljs-function">(<span class="hljs-params">fn, arr = []</span>) =></span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =></span></span><br><span class="line">  (<span class="hljs-function"><span class="hljs-params">arg</span> =></span> (arg.length === fn.length ? fn(...arg) : curry(fn, arg)))([</span><br><span class="line">    ...arr,</span><br><span class="line">    ...args</span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> curryTest = curry(<span class="hljs-function">(<span class="hljs-params">a, b, c, d</span>) =></span> a + b + c + d);</span><br><span class="line">curryTest(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)(<span class="hljs-number">4</span>); <span class="hljs-comment">//返回10</span></span><br><span class="line">curryTest(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)(<span class="hljs-number">4</span>)(<span class="hljs-number">3</span>); <span class="hljs-comment">//返回10</span></span><br><span class="line">curryTest(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>); <span class="hljs-comment">//返回10</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="防抖与节流"><a href="#防抖与节流" class="headerlink" title="防抖与节流"></a>防抖与节流</h2><h3 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounce</span>(<span class="hljs-params">fn, wait</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> timeout = <span class="hljs-literal">null</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">if</span> (timeout !== <span class="hljs-literal">null</span>) {</span><br><span class="line">      <span class="hljs-built_in">clearTimeout</span>(timeout);</span><br><span class="line">    }</span><br><span class="line">    timeout = <span class="hljs-built_in">setTimeout</span>(fn, wait);</span><br><span class="line">  };</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// 处理函数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.random());</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// 滚动事件</span></span><br><span class="line"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"scroll"</span>, debounce(handle, <span class="hljs-number">1000</span>));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h3><h4 id="利用时间戳实现"><a href="#利用时间戳实现" class="headerlink" title="利用时间戳实现"></a>利用时间戳实现</h4><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> throttle = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">func, delay</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> prev = <span class="hljs-built_in">Date</span>.now();</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">var</span> context = <span class="hljs-built_in">this</span>;</span><br><span class="line">    <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>;</span><br><span class="line">    <span class="hljs-keyword">var</span> now = <span class="hljs-built_in">Date</span>.now();</span><br><span class="line">    <span class="hljs-keyword">if</span> (now - prev >= delay) {</span><br><span class="line">      func.apply(context, args);</span><br><span class="line">      prev = <span class="hljs-built_in">Date</span>.now();</span><br><span class="line">    }</span><br><span class="line">  };</span><br><span class="line">};</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.random());</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"scroll"</span>, throttle(handle, <span class="hljs-number">1000</span>));</span><br></pre></td></tr></tbody></table></figure>

<h4 id="利用定时器实现"><a href="#利用定时器实现" class="headerlink" title="利用定时器实现"></a>利用定时器实现</h4><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> throttle = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">func, delay</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> timer = <span class="hljs-literal">null</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">var</span> context = <span class="hljs-built_in">this</span>;</span><br><span class="line">    <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (!timer) {</span><br><span class="line">      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">        func.apply(context, args);</span><br><span class="line">        timer = <span class="hljs-literal">null</span>;</span><br><span class="line">      }, delay);</span><br><span class="line">    }</span><br><span class="line">  };</span><br><span class="line">};</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.random());</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"scroll"</span>, throttle(handle, <span class="hljs-number">1000</span>));</span><br></pre></td></tr></tbody></table></figure>

<h2 id="模拟-new"><a href="#模拟-new" class="headerlink" title="模拟 new"></a>模拟 new</h2><ul>
<li><code>new</code>产生的实例可以访问<code>Constructor</code>里的属性，也可以访问到<code>Constructor.prototype</code>中的属性，前者可以通过<code>apply</code>来实现，后者可以通过将实例的<code>proto</code>属性指向构造函数的<code>prototype</code>来实现</li>
<li>我们还需要判断返回的值是不是一个对象，如果是一个对象，我们就返回这个对象，如果没有，我们该返回什么就返回什么</li>
</ul>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">New</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();</span><br><span class="line">  <span class="hljs-comment">//取出第一个参数，就是我们要传入的构造函数；此外因为shift会修改原数组，所以arguments会被去除第一个参数</span></span><br><span class="line">  Constructor = [].shift.call(<span class="hljs-built_in">arguments</span>);</span><br><span class="line">  <span class="hljs-comment">//将obj的原型指向构造函数，这样obj就可以访问到构造函数原型中的属性</span></span><br><span class="line">  obj._proto_ = Constructor.prototype;</span><br><span class="line">  <span class="hljs-comment">//使用apply改变构造函数this的指向到新建的对象，这样obj就可以访问到构造函数中的属性</span></span><br><span class="line">  <span class="hljs-keyword">var</span> ret = Constructor.apply(obj, <span class="hljs-built_in">arguments</span>);</span><br><span class="line">  <span class="hljs-comment">//要返回obj</span></span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> ret === <span class="hljs-string">"object"</span> ? ret : obj;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Otaku</span>(<span class="hljs-params">name, age</span>) </span>{</span><br><span class="line">  <span class="hljs-built_in">this</span>.name = name;</span><br><span class="line">  <span class="hljs-built_in">this</span>.age = age;</span><br><span class="line">  <span class="hljs-built_in">this</span>.habit = <span class="hljs-string">"Games"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Otaku.prototype.sayYourName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"I am"</span> + <span class="hljs-built_in">this</span>.name);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">var</span> person = objectFactory(Otaku, <span class="hljs-string">"Kevin"</span>, <span class="hljs-string">"18"</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(person.name); <span class="hljs-comment">//Kevin</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(person.habit); <span class="hljs-comment">//Games</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(person.strength); <span class="hljs-comment">//60</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="模拟-call"><a href="#模拟-call" class="headerlink" title="模拟 call"></a>模拟 call</h2><ul>
<li><code>call()</code>方法在使用一个指定的 this 值和若干个指定的参数值的前提下调用某个函数或方法</li>
<li>模拟的步骤是：将函数设为对象的属性—>执行该函数—>删除该函数</li>
<li><code>this</code>参数可以传<code>null</code>，当为<code>null</code>的时候，视为指向<code>window</code></li>
<li>函数是可以有返回值的</li>
</ul>
<h3 id="简单版"><a href="#简单版" class="headerlink" title="简单版"></a>简单版</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> foo = {</span><br><span class="line">  value: <span class="hljs-number">1</span>,</span><br><span class="line">  bar: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value);</span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line">foo.bar(); <span class="hljs-comment">// 1</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="完善版"><a href="#完善版" class="headerlink" title="完善版"></a>完善版</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Function</span>.prototype.call2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> context = context || <span class="hljs-built_in">window</span>;</span><br><span class="line">  context.fn = <span class="hljs-built_in">this</span>;</span><br><span class="line">  <span class="hljs-keyword">let</span> args = [...arguments].slice(<span class="hljs-number">1</span>);</span><br><span class="line">  <span class="hljs-keyword">let</span> result = context.fn(...args);</span><br><span class="line">  <span class="hljs-keyword">delete</span> context.fn;</span><br><span class="line">  <span class="hljs-keyword">return</span> result;</span><br><span class="line">};</span><br><span class="line"><span class="hljs-keyword">let</span> foo = {</span><br><span class="line">  value: <span class="hljs-number">1</span></span><br><span class="line">};</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params">name, age</span>) </span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(name);</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(age);</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value);</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">//表示bar函数的执行环境是foo，即bar函数里面的this代表foo,this.value相当于foo.value,然后给bar函数传递两个参数</span></span><br><span class="line">bar.call2(foo, <span class="hljs-string">"black"</span>, <span class="hljs-string">"18"</span>); <span class="hljs-comment">// black 18 1</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="模拟-apply"><a href="#模拟-apply" class="headerlink" title="模拟 apply"></a>模拟 apply</h2><ul>
<li><code>apply()</code>的实现和<code>call()</code>类似，只是参数形式不同</li>
</ul>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Function</span>.prototype.apply2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context = window</span>) </span>{</span><br><span class="line">  context.fn = <span class="hljs-built_in">this</span>;</span><br><span class="line">  <span class="hljs-keyword">let</span> result;</span><br><span class="line">  <span class="hljs-comment">// 判断是否有第二个参数</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]) {</span><br><span class="line">    result = context.fn(...arguments[<span class="hljs-number">1</span>]);</span><br><span class="line">  } <span class="hljs-keyword">else</span> {</span><br><span class="line">    result = context.fn();</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">delete</span> context.fn;</span><br><span class="line">  <span class="hljs-keyword">return</span> result;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<h2 id="模拟-bind"><a href="#模拟-bind" class="headerlink" title="模拟 bind"></a>模拟 bind</h2><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Function</span>.prototype.bind2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> self = thisl;</span><br><span class="line">  <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">var</span> fNOP = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};</span><br><span class="line">  <span class="hljs-keyword">var</span> fBound = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">var</span> bindArgs = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> self.apply(</span><br><span class="line">      <span class="hljs-built_in">this</span> <span class="hljs-keyword">instanceof</span> fNOP ? <span class="hljs-built_in">this</span> : context,</span><br><span class="line">      args.concat(bindAt)</span><br><span class="line">    );</span><br><span class="line">  };</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<h2 id="模拟-instanceof"><a href="#模拟-instanceof" class="headerlink" title="模拟 instanceof"></a>模拟 instanceof</h2><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">instanceOf</span>(<span class="hljs-params">left, right</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">let</span> proto = left.__proto__;</span><br><span class="line">  <span class="hljs-keyword">let</span> prototype = right.prototype;</span><br><span class="line">  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {</span><br><span class="line">    <span class="hljs-keyword">if</span> (proto === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (proto === prototype) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    proto = proto.__proto__;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="模拟-JSON-stringify"><a href="#模拟-JSON-stringify" class="headerlink" title="模拟 JSON.stringify"></a>模拟 JSON.stringify</h2><blockquote>
<p>JSON.stringify(value[, replacer [, space]])</p>
</blockquote>
<ul>
<li><code>Boolean | Number| String</code> 类型会自动转换成对应的原始值。</li>
<li><code>undefined</code>、任意函数以及<code>symbol</code>，会被忽略（出现在非数组对象的属性值中时），或者被转换成 <code>null</code>（出现在数组中时）。</li>
<li>不可枚举的属性会被忽略</li>
<li>如果一个对象的属性值通过某种间接的方式指回该对象本身，即循环引用，属性也会被忽略。</li>
</ul>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jsonStringify</span>(<span class="hljs-params">obj</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">let</span> type = <span class="hljs-keyword">typeof</span> obj;</span><br><span class="line">  <span class="hljs-keyword">if</span> (type !== <span class="hljs-string">"object"</span>) {</span><br><span class="line">    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/string|undefined|function/</span>.test(type)) {</span><br><span class="line">      obj = <span class="hljs-string">'"'</span> + obj + <span class="hljs-string">'"'</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(obj);</span><br><span class="line">  } <span class="hljs-keyword">else</span> {</span><br><span class="line">    <span class="hljs-keyword">let</span> json = [];</span><br><span class="line">    <span class="hljs-keyword">let</span> arr = <span class="hljs-built_in">Array</span>.isArray(obj);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k <span class="hljs-keyword">in</span> obj) {</span><br><span class="line">      <span class="hljs-keyword">let</span> v = obj[k];</span><br><span class="line">      <span class="hljs-keyword">let</span> type = <span class="hljs-keyword">typeof</span> v;</span><br><span class="line">      <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/string|undefined|function/</span>.test(type)) {</span><br><span class="line">        v = <span class="hljs-string">'"'</span> + v + <span class="hljs-string">'"'</span>;</span><br><span class="line">      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"object"</span>) {</span><br><span class="line">        v = jsonStringify(v);</span><br><span class="line">      }</span><br><span class="line">      json.push((arr ? <span class="hljs-string">""</span> : <span class="hljs-string">'"'</span> + k + <span class="hljs-string">'":'</span>) + <span class="hljs-built_in">String</span>(v));</span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> (arr ? <span class="hljs-string">"["</span> : <span class="hljs-string">"{"</span>) + <span class="hljs-built_in">String</span>(json) + (arr ? <span class="hljs-string">"]"</span> : <span class="hljs-string">"}"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">jsonStringify({ <span class="hljs-attr">x</span>: <span class="hljs-number">5</span> }); <span class="hljs-comment">// "{"x":5}"</span></span><br><span class="line">jsonStringify([<span class="hljs-number">1</span>, <span class="hljs-string">"false"</span>, <span class="hljs-literal">false</span>]); <span class="hljs-comment">// "[1,"false",false]"</span></span><br><span class="line">jsonStringify({ <span class="hljs-attr">b</span>: <span class="hljs-literal">undefined</span> }); <span class="hljs-comment">// "{"b":"undefined"}"</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="模拟-JSON-parse"><a href="#模拟-JSON-parse" class="headerlink" title="模拟 JSON.parse"></a>模拟 JSON.parse</h2><blockquote>
<p>JSON.parse(text[, reviver])</p>
</blockquote>
<p>用来解析 JSON 字符串，构造由字符串描述的 JavaScript 值或对象。提供可选的 reviver 函数用以在返回之前对所得到的对象执行变换(操作)。</p>
<h3 id="利用-eval"><a href="#利用-eval" class="headerlink" title="利用 eval"></a>利用 eval</h3><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jsonParse</span>(<span class="hljs-params">opt</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">eval</span>(<span class="hljs-string">"("</span> + opt + <span class="hljs-string">")"</span>);</span><br><span class="line">}</span><br><span class="line">jsonParse(jsonStringify({ <span class="hljs-attr">x</span>: <span class="hljs-number">5</span> }));</span><br><span class="line"><span class="hljs-comment">// Object { x: 5}</span></span><br><span class="line">jsonParse(jsonStringify([<span class="hljs-number">1</span>, <span class="hljs-string">"false"</span>, <span class="hljs-literal">false</span>]));</span><br><span class="line"><span class="hljs-comment">// [1, "false", falsr]</span></span><br><span class="line">jsonParse(jsonStringify({ <span class="hljs-attr">b</span>: <span class="hljs-literal">undefined</span> }));</span><br><span class="line"><span class="hljs-comment">// Object { b: "undefined"}</span></span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>避免在不必要的情况下使用 <code>eval</code>，eval() 是一个危险的函数， 他执行的代码拥有着执行者的权利。如果你用 eval()运行的字符串代码被恶意方（不怀好意的人）操控修改，您最终可能会在您的网页/扩展程序的权限下，在用户计算机上运行恶意代码</p>
</blockquote>
<h3 id="利用-new-Function"><a href="#利用-new-Function" class="headerlink" title="利用 new Function()"></a>利用 new Function()</h3><p><code>Function</code>与<code>eval</code>有相同的字符串参数特性,<code>eval</code> 与 <code>Function</code> 都有着动态编译 js 代码的作用，但是在实际的编程中并不推荐使用。</p>
<blockquote>
<p>var func = new Function(arg1, arg2, …, functionBody)</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> jsonStr = <span class="hljs-string">'{ "age": 20, "name": "jack" }'</span>;</span><br><span class="line"><span class="hljs-keyword">var</span> json = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(<span class="hljs-string">"return "</span> + jsonStr)();</span><br></pre></td></tr></tbody></table></figure>
</body></html>
            
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link-link" href="/tags/js/" rel="tag">js</a>
                </div>
            </div>
        </div>
        

        <!--  -->

        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">喜欢这篇文章？打赏赞助一下吧</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>微信</span>
    <div class="qrcode"><img src="/images/donate.jpg" alt="微信"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/posts/4fdcb40b/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">自建基于掘金API的图床</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/posts/713d3487/">
                <span class="level-item">Nodejs 爬取one和墨迹天气定时发邮件</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">
            评论
        </h3>
        
<div id="valine-thread" class="content"></div>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: false,
        verify: false,
        app_id: 'bwTxwPTstDRSj9fwUm9zXWXa-gzGzoHsz',
        app_key: '20xgggMoEpTsY95zvB0HudN1',
        placeholder: '留下你的只言片语吧~~~',
        avatar_cdn:'https://cn.gravatar.com/avatar/',
        avatar:'robohash'
    });
</script>

    </div>
</div>



                </div>
                
                
                    




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    <img class="avatar is-rounded image is-128x128 has-mb-6" src="/images/avatar.png" alt="Yu Ye">
                    
                    <p class="is-size-4 is-block">
                        Yu Ye
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        专注前端技术，更专注生活
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        34
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        5
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/cyea" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/cyea">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Telegram" href="https://t.me/yuyehack">
                
                <i class="fab fa-telegram"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Email" href="mailto:yuyehack@gmail.com">
                
                <i class="fas fa-envelope"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
    <div class="card widget" id="toc" >
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    目录
                </h3>
                <ul class="menu-list"><li>
            <a class="is-flex" href="#数组去重">
            <span class="has-mr-6">1</span>
            <span>数组去重</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#双层循环">
            <span class="has-mr-6">1.1</span>
            <span>双层循环</span>
            </a></li><li>
            <a class="is-flex" href="#利用-indexOf">
            <span class="has-mr-6">1.2</span>
            <span>利用 indexOf</span>
            </a></li><li>
            <a class="is-flex" href="#排序后去重">
            <span class="has-mr-6">1.3</span>
            <span>排序后去重</span>
            </a></li><li>
            <a class="is-flex" href="#filter">
            <span class="has-mr-6">1.4</span>
            <span>filter</span>
            </a></li><li>
            <a class="is-flex" href="#使用-indexOf：">
            <span class="has-mr-6">1.5</span>
            <span>使用 indexOf：</span>
            </a></li><li>
            <a class="is-flex" href="#排序去重：">
            <span class="has-mr-6">1.6</span>
            <span>排序去重：</span>
            </a></li><li>
            <a class="is-flex" href="#ES6-方法">
            <span class="has-mr-6">1.7</span>
            <span>ES6 方法</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#Set：">
            <span class="has-mr-6">1.7.1</span>
            <span>Set：</span>
            </a></li><li>
            <a class="is-flex" href="#Map：">
            <span class="has-mr-6">1.7.2</span>
            <span>Map：</span>
            </a></li></ul></li></ul></li><li>
            <a class="is-flex" href="#类型判断">
            <span class="has-mr-6">2</span>
            <span>类型判断</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#通用-API">
            <span class="has-mr-6">2.1</span>
            <span>通用 API</span>
            </a></li><li>
            <a class="is-flex" href="#判断空对象">
            <span class="has-mr-6">2.2</span>
            <span>判断空对象</span>
            </a></li><li>
            <a class="is-flex" href="#判断-Window-对象">
            <span class="has-mr-6">2.3</span>
            <span>判断 Window 对象</span>
            </a></li><li>
            <a class="is-flex" href="#判断数组">
            <span class="has-mr-6">2.4</span>
            <span>判断数组</span>
            </a></li><li>
            <a class="is-flex" href="#判断类数组">
            <span class="has-mr-6">2.5</span>
            <span>判断类数组</span>
            </a></li><li>
            <a class="is-flex" href="#判断-NaN">
            <span class="has-mr-6">2.6</span>
            <span>判断 NaN</span>
            </a></li><li>
            <a class="is-flex" href="#判断-DOM-元素">
            <span class="has-mr-6">2.7</span>
            <span>判断 DOM 元素</span>
            </a></li><li>
            <a class="is-flex" href="#判断-arguments-对象">
            <span class="has-mr-6">2.8</span>
            <span>判断 arguments 对象</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#深浅拷贝">
            <span class="has-mr-6">3</span>
            <span>深浅拷贝</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#浅拷贝">
            <span class="has-mr-6">3.1</span>
            <span>浅拷贝</span>
            </a></li><li>
            <a class="is-flex" href="#深拷贝">
            <span class="has-mr-6">3.2</span>
            <span>深拷贝</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#扁平化">
            <span class="has-mr-6">4</span>
            <span>扁平化</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#递归">
            <span class="has-mr-6">4.1</span>
            <span>递归</span>
            </a></li><li>
            <a class="is-flex" href="#toString-NaN">
            <span class="has-mr-6">4.2</span>
            <span>toString()</span>
            </a></li><li>
            <a class="is-flex" href="#reduce">
            <span class="has-mr-6">4.3</span>
            <span>reduce()</span>
            </a></li><li>
            <a class="is-flex" href="#…">
            <span class="has-mr-6">4.4</span>
            <span>…</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#柯里化">
            <span class="has-mr-6">5</span>
            <span>柯里化</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#通用版">
            <span class="has-mr-6">5.1</span>
            <span>通用版</span>
            </a></li><li>
            <a class="is-flex" href="#ES6-版">
            <span class="has-mr-6">5.2</span>
            <span>ES6 版</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#防抖与节流">
            <span class="has-mr-6">6</span>
            <span>防抖与节流</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#防抖">
            <span class="has-mr-6">6.1</span>
            <span>防抖</span>
            </a></li><li>
            <a class="is-flex" href="#节流">
            <span class="has-mr-6">6.2</span>
            <span>节流</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#利用时间戳实现">
            <span class="has-mr-6">6.2.1</span>
            <span>利用时间戳实现</span>
            </a></li><li>
            <a class="is-flex" href="#利用定时器实现">
            <span class="has-mr-6">6.2.2</span>
            <span>利用定时器实现</span>
            </a></li></ul></li></ul></li><li>
            <a class="is-flex" href="#模拟-new">
            <span class="has-mr-6">7</span>
            <span>模拟 new</span>
            </a></li><li>
            <a class="is-flex" href="#模拟-call">
            <span class="has-mr-6">8</span>
            <span>模拟 call</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#简单版">
            <span class="has-mr-6">8.1</span>
            <span>简单版</span>
            </a></li><li>
            <a class="is-flex" href="#完善版">
            <span class="has-mr-6">8.2</span>
            <span>完善版</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#模拟-apply">
            <span class="has-mr-6">9</span>
            <span>模拟 apply</span>
            </a></li><li>
            <a class="is-flex" href="#模拟-bind">
            <span class="has-mr-6">10</span>
            <span>模拟 bind</span>
            </a></li><li>
            <a class="is-flex" href="#模拟-instanceof">
            <span class="has-mr-6">11</span>
            <span>模拟 instanceof</span>
            </a></li><li>
            <a class="is-flex" href="#模拟-JSON-stringify">
            <span class="has-mr-6">12</span>
            <span>模拟 JSON.stringify</span>
            </a></li><li>
            <a class="is-flex" href="#模拟-JSON-parse">
            <span class="has-mr-6">13</span>
            <span>模拟 JSON.parse</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#利用-eval">
            <span class="has-mr-6">13.1</span>
            <span>利用 eval</span>
            </a></li><li>
            <a class="is-flex" href="#利用-new-Function">
            <span class="has-mr-6">13.2</span>
            <span>利用 new Function()</span>
            </a></li></ul></li></ul>
            </div>
        </div>
    </div>
    

    
        
    
        
    
        

    
    
        <div class="column-right-shadow is-hidden-widescreen "> 
        
        
        </div>
    
</div>

                
                <!--  -->
                


            </div>
        </div>
    </section>
    <footer class="footer">
  <div class="container">
    <!-- <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.png" alt="面试常见手写代码" height="28">
                
                </a>
                <p class="is-size-7">
                
                &copy; 2020 Yu Ye&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                 
                <br>
                
                <span id="busuanzi_container_site_uv">
                共<span id="busuanzi_value_site_uv">0</span>个访客
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div> 
        -->
  </div>
  <div class="lever">
    <p class="is-size-7">
      Copyright © 2019 Yu Ye |
      <span id="busuanzi_container_site_uv">
        共<span id="busuanzi_value_site_uv">0</span>个访客
      </span>
    </p>
    <div class="site-info">
      已运行
      <span id="time-to-now"></span>
      <span class="my-face">(●'◡'●)ﾉ♥</span>
    </div>
  </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>
<script src="/js/my.js?v=1596521852666" defer></script>
<script src="/js/baidupush.js" defer></script>
    

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>